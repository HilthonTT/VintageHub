@inject IStringLocalizer<Resource> Localizer
@inject IReviewEndpoint ReviewEndpoint
@inject ISnackbar Snackbar
@inject NavigationManager Navigation

<EditForm Model="model" OnValidSubmit="EditReviewAsync">
    <DataAnnotationsValidator />
    <MudDialog Options="options">
        <DialogContent>
            <MudItem>
                <MudText>
                    @Localizer["edit-review"]
                </MudText>
                <MudText>
                    @Localizer["edit-description"]
                </MudText>
            </MudItem>
            <MudDivider Class="mt-3 mb-3" />
            <MudItem>
                <MudItem xs="12">
                    <MudItem>
                        <MudTextField @bind-Value="model.Title" T="string" Label=@Localizer["review-title"]
                                      Required="true" Variant="Variant.Outlined" Clearable="true" />
                        <MudText Color="Color.Error">
                            <ValidationMessage For="() => model.Title" />
                        </MudText>
                    </MudItem>
                    <MudItem>
                        <MudTextField @bind-Value="model.Description" T="string" Label=@Localizer["review-description"]
                                      Required="true" Lines="2" Variant="Variant.Outlined" Clearable="true" />
                        <MudText Color="Color.Error">
                            <ValidationMessage For="() => model.Description" />
                        </MudText>
                    </MudItem>
                    <MudDivider Class="mt-3 mb-3" />
                    <MudText Typo="Typo.subtitle1">@Localizer["your-rating"]</MudText>
                    <MudItem>
                        <MudRating @bind-SelectedValue="model.Rating" Size="Size.Large" MaxValue="5" />
                        <MudText Color="Color.Error">
                            <ValidationMessage For="() => model.Rating" />
                        </MudText>
                    </MudItem>
                </MudItem>
            </MudItem>
        </DialogContent>
        <DialogActions>
            <MudButton OnClick="Cancel" Variant="Variant.Filled" ButtonType="ButtonType.Button"
                       StartIcon="@Icons.Material.Filled.Cancel">
                @Localizer["cancel"]
            </MudButton>
            <MudButton Color="Color.Success" StartIcon="@Icons.Material.Filled.Edit"
                       Variant="Variant.Filled" ButtonType="ButtonType.Submit">
                @Localizer["edit"]
            </MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>


