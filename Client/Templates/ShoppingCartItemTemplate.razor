@inject IStringLocalizer<Resource> Localizer
@inject IImageEndpoint ImageEndpoint
@inject NavigationManager Navigation

<MudItem xs="4">
    <MudCard Class="m-2">
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.subtitle1" Class="fw-bold text-uppercase">
                    <MudTooltip>
                        <ChildContent>
                            @truncatedName
                        </ChildContent>
                        <TooltipContent>
                            <MudText>
                                @CartItem.Artifact?.Name
                            </MudText>
                        </TooltipContent>
                    </MudTooltip>
                </MudText>
            </CardHeaderContent>
            <CardHeaderActions>
                <MudIconButton Icon="@Icons.Material.Filled.RemoveShoppingCart"
                               Color="Color.Error" OnClick="RemoveFromCartAsync" />
            </CardHeaderActions>
        </MudCardHeader>
        <MudCardMedia Image="@((string.IsNullOrWhiteSpace(imageSource) ? "https://dummyimage.com/600x400/000/fff" : imageSource))"
                      Height="200" />
        <MudCardContent>
            <MudDivider Class="mt-3 mb-3" />
            <MudTooltip Text="@CartItem.Artifact?.Description">
                <ChildContent>
                    @truncatedDescription
                </ChildContent>
                <TooltipContent>
                    <MudText>
                        @CartItem.Artifact?.Description
                    </MudText>
                </TooltipContent>
            </MudTooltip>
            <MudDivider Class="mt-3 mb-3" />
            <MudText Typo="Typo.body2">
                @Localizer["quantity"]:
                @CartItem.Quantity
            </MudText>
            <MudText Typo="Typo.body2">
                @Localizer["total-price"]:
                @totalPrice
            </MudText>
        </MudCardContent>
        <MudCardActions>
            <MudButton OnClick="OpenDetails" Variant="Variant.Text"
                       Color="Color.Primary" StartIcon="@Icons.Material.Filled.Details">
                @Localizer["learn-more"]
            </MudButton>
        </MudCardActions>
    </MudCard>
</MudItem>


